# Agentic RAG ç ”ç©¶åŠ©æ‰‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº **LangGraph** å’Œ **DeepSeek** æ„å»ºçš„é«˜çº§ Agentic RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ç³»ç»Ÿã€‚å®ƒèƒ½å¤Ÿè‡ªåŠ¨æ‹†è§£ç ”ç©¶è¯¾é¢˜ï¼Œé€šè¿‡æœ¬åœ°å‘é‡æ•°æ®åº“ï¼ˆFAISSï¼‰æ£€ç´¢ Excel è§„æ ¼ä¹¦å†…å®¹ï¼Œå¹¶ç»“åˆäº’è”ç½‘æœç´¢ï¼ˆTavilyï¼‰ï¼Œå¾ªç¯è¿­ä»£ç”Ÿæˆæœ€ç»ˆçš„ç ”ç©¶æŠ¥å‘Šã€‚

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **å¤š Agent åä½œ**ï¼šé‡‡ç”¨ LangGraph æ„å»ºçš„æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼ŒåŒ…å« Plannerã€Executorã€Reviewer å’Œ Summarizer èŠ‚ç‚¹ã€‚
- **æ™ºèƒ½è§„åˆ’**ï¼šPlanner èŠ‚ç‚¹å°†å¤æ‚ä»»åŠ¡æ‹†è§£ä¸ºå…·ä½“çš„æ£€ç´¢å…³é”®è¯æˆ–å­é—®é¢˜ã€‚
- **æ··åˆæ£€ç´¢**ï¼š
  - **æœ¬åœ°æœç´¢**ï¼šåŸºäº FAISS å’Œ `BAAI/bge-small-zh-v1.5` åµŒå…¥æ¨¡å‹ï¼Œæ”¯æŒå¯¹ Excel è§„æ ¼ä¹¦çš„è¯­ä¹‰æ£€ç´¢ã€‚
  - **ç½‘ç»œæœç´¢**ï¼šé›†æˆ Tavily Search API è·å–å®æ—¶äº’è”ç½‘ä¿¡æ¯ã€‚
- **è‡ªæˆ‘åæ€æœºåˆ¶**ï¼šReviewer èŠ‚ç‚¹è¯„ä¼°ä¿¡æ¯çš„å……è¶³æ€§ï¼Œå†³å®šæ˜¯ç»§ç»­è¿­ä»£æ£€ç´¢è¿˜æ˜¯ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Šã€‚
- **æ·±åº¦å®šåˆ¶**ï¼šåŸç”Ÿæ”¯æŒ DeepSeek-V3 æ¨¡å‹ï¼Œæä¾›é«˜æ€§èƒ½ä¸”ä½æˆæœ¬çš„æ¨ç†èƒ½åŠ›ã€‚

## ğŸ— æ¶æ„å›¾

ç³»ç»Ÿå·¥ä½œæµå¦‚ä¸‹ï¼š
1. **START** -> **Planner** (åˆ¶å®šæœç´¢è®¡åˆ’)
2. **Planner** -> **Executor** (æ‰§è¡Œæœ¬åœ°åŠç½‘ç»œæ£€ç´¢)
3. **Executor** -> **Reviewer** (è¯„ä¼°ä¿¡æ¯å……è¶³æ€§)
4. **Reviewer** -> **Planner** (ä¿¡æ¯ä¸è¶³ï¼Œé‡æ–°è§„åˆ’) æˆ– **Summarizer** (ä¿¡æ¯å……è¶³)
5. **Summarizer** -> **END** (è¾“å‡ºæœ€ç»ˆæŠ¥å‘Š)

## ğŸ›  æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: LangChain, LangGraph
- **å¤§æ¨¡å‹**: DeepSeek (deepseek-chat)
- **å‘é‡æ•°æ®åº“**: FAISS
- **åµŒå…¥æ¨¡å‹**: HuggingFace (BAAI/bge-small-zh-v1.5)
- **æ•°æ®å¤„ç†**: Pandas, Openpyxl

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

å…‹éš†é¡¹ç›®å¹¶å®‰è£…ä¾èµ–ï¼š

```bash
pip install -r requirements.txt
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```env
DEEPSEEK_API_KEY=your_deepseek_api_key
TAVILY_API_KEY=your_tavily_api_key (å¯é€‰ï¼Œç”¨äºç½‘ç»œæœç´¢)
```

### 3. æ•°æ®å‡†å¤‡

å°†æ‚¨çš„ Excel è§„æ ¼ä¹¦å‘½åä¸º `Ballista_ä»•æ§˜æ›¸ãƒªã‚¹ãƒˆ.xlsx` å¹¶æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ã€‚ç³»ç»Ÿä¼šåœ¨é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨ç”Ÿæˆ `faiss_index` å‘é‡åº“ã€‚

### 4. è¿è¡Œç¨‹åº

```bash
python main.py
```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ graph.py    # LangGraph å·¥ä½œæµå®šä¹‰
â”‚   â”‚   â””â”€â”€ nodes.py    # å„ Agent èŠ‚ç‚¹é€»è¾‘å®ç°
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â””â”€â”€ search.py   # æœ¬åœ°(FAISS)ä¸ç½‘ç»œæœç´¢å·¥å…·
â”‚   â””â”€â”€ state.py        # å…¨å±€ AgentState çŠ¶æ€å®šä¹‰
â”œâ”€â”€ docs/               # ç ”ç©¶è®¡åˆ’ä¸è®¾è®¡æ–‡æ¡£
â”œâ”€â”€ tests/              # Pytest æµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ main.py             # CLI äº¤äº’å…¥å£
â””â”€â”€ requirements.txt    # ä¾èµ–é¡¹
```

## ğŸ§ª æµ‹è¯•

ä½¿ç”¨ pytest è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼š

```bash
PYTHONPATH=. pytest
```

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ª MIT è®¸å¯è¯ã€‚
